<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<meta name="apple-mobile-web-app-capable" content="yes" />
	<meta name="apple-mobile-web-app-status-bar-style" content="black" />

    <link href="css/screen.css" type="text/css" rel="stylesheet" />
	
	<script type="text/javascript" src="js/jquery/jquery-1.8.2.min.js"></script>
    <script type="text/javascript" src="jembe.js"></script>
    <script type="text/javascript" src="js/app.js"></script>

<script type="text/javascript" charset="utf-8">

    var i = 0;
    function pictureTaken(file) {
        i++;
        var content = "<img src='/jembedocs/" + file + "?i="+i+"'>";
        //alert('thom: new content: ' + content);
        document.getElementById("mypic").innerHTML = content;

    }
    
    function takePicture(params) {
        params.callback = pictureTaken;
        params.output="mypic.png";
        jembe.camera.picture.take(params);
    }

    function videoRecorded(file) {
        i++;
        document.getElementById("myvid").innerHTML = "<video width='300' controls src='/jembedocs/" + file + "?i="+i+"'></video>";
    }
    
    function recordVideo() {
        jembe.camera.video.record({callback:videoRecorded, output:"myvid.mp4"});
    }
    
    
    
</script>

</head>
<body>
	Votre localisation :<div id="geoloc_msg"></div>
	<table width="90%" border="0" cellpadding="10" cellspacing="0">
		<tr>
			<td align="center" class="titre_col">Class</td>
			<td align="center" class="titre_col">Method</td>
		</tr>

		<!-- CAMERA -->
		<tr>
			<td>camera.picture</td>
			<td><a href="javascript:takePicture({});">Take a picture</a><div id="mypic"></div></td>
		</tr>

		<tr>
			<td>camera.video</td>
			<td><a href="javascript:recordVideo();">Record a video</a><br>
			<div id="myvid"></div>
			</td>
		</tr>
		<!-- CAMERA -->

	</table>

    <script type="text/javascript" charset="utf-8">
    jembe.geoloc.getCurrentPosition({
            onSuccess: function(position) {
 
                infoposLat = position.coords.latitude;
            
                infoposLong = position.coords.longitude;
                /*jembe.alert.show({
                            message:'pos: ' + infoposLat + ", " + infoposLong,
                            buttons:'Oui',
                            });
		*/
                document.getElementById('geoloc_msg').innerHTML='pos: ' + infoposLat + ", " + infoposLong;
             }, onError: function (error) { 
                document.getElementById('geoloc_msg').innerHTML=error.message;
                //if (error.code==2) alert('Votre position ne peut tre determinŽe');
            }
        });
        
    </script>
</body>

</html>
